{{##def.bar:percentage:
    {{?!isNaN(percentage)}}
        <div class="stat-bar" style="width: {{=it.stats.population / it.max * 100}}%">
            <div class="stat-bar__part" style="width: {{=percentage / it.stats.population * 100}}%"></div>
        </div>
    {{?}}
#}}

{{##def.p:percentage:
    <span class="stat-p">{{=(percentage * 100).toFixed(1)}}%</span>
#}}

<h3 class="stat-force">{{=it.stats.force}}</h3>
<div class="stats">
    <div class="stats__row stats__row--border">
        <div class="stats__row__desc">
            The <b>community</b> is {{#def.p:it.stats.population}} BME
        </div>
        <div class="stats__row__value">{{#def.bar:it.stats.population}}</div>
    </div>
    {{?isNaN(it.stats.applications) && isNaN(it.stats.appointments)}}
        <div class="stats__row stats__row--border">
            <div class="stats__row__desc no-data">
                No data for applications or appointments
            </div>
            <div class="stats__row__value"></div>
        </div>
    {{??}}
        <div class="stats__row">
            <div class="stats__row__desc">
                {{?isNaN(it.stats.applications)}}
                    <span class="no-data">No data for applications</span>
                {{??}}
                    However, they make up {{?it.stats.applications < it.stats.population}}only{{?}}
                    {{#def.p:it.stats.applications}} of <b>applicants</b>&hellip;
                {{?}}
            </div>
            <div class="stats__row__value">{{#def.bar:it.stats.applications}}</div>
        </div>
        <div class="stats__row stats__row--border">
            <div class="stats__row__desc">
                {{?isNaN(it.stats.appointments)}}
                    <span class="no-data">No data for appointments</span>
                {{??isNaN(it.stats.applications)}}
                    However, they make up {{?it.stats.appointments < it.stats.population}}only{{?}}
                {{??it.stats.applications > it.stats.population && it.stats.appointments < it.stats.population}}
                    only
                {{?}}
                {{?!isNaN(it.stats.appointments)}}
                    {{#def.p:it.stats.appointments}} of <b>appointments</b>
                {{?}}
            </div>
            <div class="stats__row__value">{{#def.bar:it.stats.appointments}}</div>
        </div>
    {{?}}
    <div class="stats__row">
        <div class="stats__row__desc">
            {{?isNaN(it.stats.applications) && isNaN(it.stats.appointments)}}
                However, they make up {{?it.stats.current < it.stats.population}}only{{?}}
            {{??}}
                and
            {{?}}
            {{#def.p:it.stats.current}} of the <b>police force</b>
        </div>
        <div class="stats__row__value">{{#def.bar:it.stats.current}}</div>
    </div>
</div>
<p class="stat-note">
    {{?it.stats.applicationYears || it.stats.appointmentYears}}
        Data for
        {{?it.stats.applicationYears === it.stats.appointmentYears}}
            applications and appointments from {{=it.stats.applicationYears}}
        {{??}}
            {{?it.stats.applicationYears}}
                applications from {{=it.stats.applicationYears}}
                {{?it.stats.appointmentYears}}and for{{?}}
            {{?}}
            {{?it.stats.appointmentYears}}
                appointments from {{=it.stats.appointmentYears}}
            {{?}}
        {{?}}
    {{?}}
</p>
